{
  "title": "频道配置向导",
  "subtitle": "分步引导连接消息频道",
  "stepChannel": "选择频道",
  "stepPrep": "前置准备",
  "stepCredential": "填写凭证",
  "stepAccess": "访问控制",
  "stepConfirm": "确认配置",
  "telegram": "Telegram",
  "discord": "Discord",
  "slack": "Slack",
  "whatsapp": "WhatsApp",
  "signal": "Signal",
  "telegramDesc": "通过 BotFather 创建机器人，支持私聊和群组",
  "discordDesc": "创建 Discord Bot，支持服务器频道和私信",
  "slackDesc": "创建 Slack App，支持频道消息和私信",
  "whatsappDesc": "通过 Web 协议连接 WhatsApp，需要独立号码",
  "signalDesc": "通过 signal-cli 连接 Signal，需要 Java 环境",
  "prepTitle": "准备工作",
  "prepDesc": "请按以下步骤完成前置准备",
  "telegramHelpUrl": "https://t.me/BotFather",
  "telegramPrep": [
    "打开 Telegram，搜索 @BotFather（或点击上方链接直达）",
    "发送 /newbot，按提示设置名称和用户名",
    "复制生成的 Bot Token（格式：数字:字母数字混合，如 123456789:ABCdef-GHI）",
    "如需群组功能：/setprivacy → Disable（关闭隐私模式）",
    "⚠️ 关闭隐私模式后，必须将 Bot 移出群组再重新添加才能生效",
    "如需管理功能（pin/删除消息）：将 Bot 设为群组管理员"
  ],
  "discordHelpUrl": "https://discord.com/developers/applications",
  "discordPrep": [
    "打开 Discord Developer Portal → New Application（或点击上方链接直达）",
    "Bot → Add Bot → Reset Token → 复制 Bot Token（注意：不是 OAuth2 Client Secret）",
    "⚠️ 必须开启 Message Content Intent（否则 Bot 能连接但读不到任何消息内容）",
    "同时开启 Server Members Intent（如需获取成员列表）",
    "OAuth2 URL Generator → 勾选 bot + applications.commands",
    "选择权限：View Channels, Send Messages, Read Message History, Embed Links, Attach Files（推荐使用 Permission Calculator）",
    "生成邀请链接并添加 Bot 到服务器",
    "注意：超过 75 个服务器的 Bot 需要额外申请 Privileged Intent 审批"
  ],
  "slackHelpUrl": "https://api.slack.com/apps",
  "slackPrep": [
    "在 api.slack.com/apps 创建 App（From scratch，或点击上方链接直达）",
    "Socket Mode → 开启 → 生成 App-Level Token（xapp-...，需要 connections:write scope）",
    "OAuth & Permissions → 添加 Bot Token Scopes → Install to Workspace → 复制 Bot Token（xoxb-...）",
    "⚠️ 注意区分三种 Token：App Token (xapp-) 用于 Socket Mode，Bot Token (xoxb-) 用于 API 调用，User Token (xoxp-) 可选",
    "Event Subscriptions → 订阅 message.channels, message.groups, message.im, message.mpim, app_mention",
    "App Home → 开启 Messages Tab（否则用户无法给 Bot 发私信）",
    "使用 /invite @botname 邀请 Bot 到目标频道",
    "修改 Scope 后需要重新 Reinstall to Workspace 才能生效"
  ],
  "whatsappPrep": [
    "⚠️ 必须使用 Node.js 运行网关（WhatsApp/Baileys 在 Bun 下不稳定，会频繁断连）",
    "准备一个独立手机号码（强烈建议，使用非官方协议存在封号风险）",
    "确保该号码已注册 WhatsApp 且能正常收发消息",
    "检查 WhatsApp 已关联设备数量（最多 4 个，超出无法连接）",
    "稍后需要在手机上扫描 QR 码关联设备（QR 码有效期约 20 秒，请提前准备）",
    "如连接异常，可删除 ~/.openclaw/sessions/ 下对应文件后重新扫码"
  ],
  "signalHelpUrl": "https://github.com/AsamK/signal-cli",
  "signalPrep": [
    "安装 Java 21+ 运行环境（signal-cli 强制依赖，最常见的失败原因）",
    "安装 signal-cli（点击下方链接查看最新版本和安装方法）",
    "ARM Linux 用户可能需要手动编译 libsignal-client native library",
    "准备一个独立手机号码（推荐，Bot 会忽略自己发送的消息以防循环）",
    "稍后运行 signal-cli link 并在手机 Signal → 设置 → 已关联设备 中扫描 QR 码",
    "如果 signal-cli 不在系统 PATH 中，需要在配置中指定完整路径",
    "注意：Signal 对消息频率有严格限制，批量发送容易触发限流"
  ],
  "token": "Token",
  "botToken": "Bot Token",
  "appToken": "App Token (xapp-...)",
  "botTokenSlack": "Bot Token (xoxb-...)",
  "userToken": "User Token (xoxp-...)",
  "userTokenOptional": "可选，用于增强读取权限",
  "account": "账号（E.164 电话号码）",
  "accountPlaceholder": "+8613800138000",
  "cliPath": "signal-cli 路径",
  "tokenPlaceholder": "粘贴你的 Token",
  "tokenFormat": "Token 格式",
  "telegramTokenFormat": "数字:字母数字混合（如 123456:ABC-DEF）",
  "discordTokenFormat": "以字母开头的长字符串",
  "testConn": "测试连接",
  "testing": "测试中...",
  "testOk": "连接成功",
  "testFail": "连接失败",
  "dmPolicy": "私聊策略",
  "dmPolicyDesc": "控制谁可以通过私聊与 Bot 交互",
  "pairing": "配对模式",
  "pairingDesc": "首次联系需输入配对码，最安全",
  "allowlist": "白名单模式",
  "allowlistDesc": "仅允许列表中的用户",
  "open": "开放模式",
  "openDesc": "任何人都可以私聊（需谨慎）",
  "disabled": "禁用",
  "disabledDesc": "不接受任何私聊",
  "allowFrom": "白名单",
  "allowFromPlaceholder": "用户 ID 或用户名，每行一个",
  "groupPolicy": "群组策略",
  "groupPolicyDesc": "控制 Bot 在群组中的行为",
  "requireMention": "需要 @提及",
  "requireMentionDesc": "Bot 仅在被 @提及时才回复（推荐）",
  "configPreview": "配置预览",
  "configSummary": "以下配置将写入 openclaw.json",
  "save": "保存并应用",
  "saving": "保存中...",
  "saved": "配置已保存",
  "back": "上一步",
  "next": "下一步",
  "finish": "完成",
  "whatsappLogin": "WhatsApp Web 登录",
  "whatsappLoginDesc": "点击下方按钮生成二维码，然后用手机 WhatsApp 扫码登录",
  "generateQR": "生成二维码",
  "generating": "生成中...",
  "pitfallTitle": "注意事项",
  "telegramPitfall": "⚠️ 常见踩坑：1) 关闭 Privacy Mode 后必须将 Bot 移出群组再重新添加才能生效（官方文档明确说明）；2) Bot Token 格式为 数字:字母数字混合，复制时注意不要多带空格或换行；3) 群组内 Bot 每分钟最多发 20 条消息，超出返回 429 错误；4) 如果之前设置过 Webhook，需要先调用 deleteWebhook 才能切换到 polling 模式",
  "discordPitfall": "⚠️ 常见踩坑：1) 必须开启 Message Content Intent，否则 Bot 能连接但消息内容为空字符串（2022 年 8 月后强制要求）；2) Bot Token 和 OAuth2 Client Secret 是不同的东西，不要混淆；3) requireMention 必须放在 guilds 配置下，放在顶层会被忽略；4) 超过 75 个服务器的 Bot 需要额外申请 Privileged Intent 审批；5) 权限不足时 Bot 不会报错，只是静默失败",
  "slackPitfall": "⚠️ 常见踩坑：1) 三种 Token 用途不同：App Token (xapp-) 用于 Socket Mode，Bot Token (xoxb-) 用于 API，User Token (xoxp-) 可选增强权限；2) App Home → Messages Tab 未开启会导致用户无法给 Bot 发私信；3) Bot 必须被 /invite 到频道才能接收消息；4) 修改 Scope 后必须重新 Reinstall to Workspace；5) missing_scope 错误说明权限不足，需要添加对应 scope",
  "whatsappPitfall": "⚠️ 常见踩坑：1) 必须使用 Node.js 运行网关，WhatsApp (Baileys) 在 Bun 下不稳定会频繁断连；2) 使用非官方协议存在封号风险，强烈建议使用独立号码；3) QR 码有效期约 20 秒，超时需等待新码生成；4) Session 损坏时删除 ~/.openclaw/sessions/ 下对应文件重新扫码；5) WhatsApp 最多关联 4 个设备，超出无法连接",
  "signalPitfall": "⚠️ 常见踩坑：1) 未安装 Java 21+ 是最常见的失败原因；2) ARM Linux 可能需要手动编译 libsignal-client native library；3) 使用 signal-cli link（关联设备模式），不是 register（注册新号码）；4) QR 码在终端显示需要 Unicode 支持，SSH 远程操作可能显示异常；5) Signal 对消息频率有严格限制，批量发送容易触发限流",
  "discordIntentWarn": "必须在 Developer Portal 开启 Message Content Intent，否则 Bot 无法读取消息内容",
  "discordMentionWarn": "requireMention 必须放在 guilds 配置下，顶层设置会被忽略",
  "whatsappNodeWarn": "WhatsApp (Baileys) 和 Telegram 在 Bun 上不稳定，建议使用 Node 运行网关",
  "signalJavaWarn": "signal-cli 需要 Java 运行环境，请确保已安装",
  "feishu": "飞书",
  "feishuDesc": "飞书/Lark 企业通讯，WebSocket 长连接无需公网 IP",
  "dingtalk": "钉钉",
  "dingtalkDesc": "钉钉企业机器人，Stream 模式无需公网 IP",
  "wecom": "企微智能机器人",
  "wecomDesc": "企业微信智能机器人，被动回复模式，需公网回调",
  "wecom_kf": "企微自建应用",
  "wecom_kfDesc": "企业微信自建应用，支持主动发送消息、媒体收发",
  "wechat": "微信",
  "wechatDesc": "微信个人号/公众号消息通道（需第三方桥接）",
  "qq": "QQ",
  "qqDesc": "QQ 官方 Bot API，支持私聊/群聊/频道",
  "doubao": "豆包",
  "doubaoDesc": "字节跳动豆包 AI 平台",
  "feishuPrep": [
    "安装飞书插件：openclaw plugins install @m1heng-clawd/feishu",
    "登录飞书开放平台 open.feishu.cn → 创建企业自建应用",
    "在「凭证与基础信息」页复制 App ID 和 App Secret",
    "在「应用能力」中添加「机器人」能力，设置机器人名称",
    "在「权限管理」页添加必需权限：im:message、im:message.p2p_msg:readonly、im:message.group_at_msg:readonly、im:message:send_as_bot、im:resource（可点击下方「复制权限 JSON」批量导入）",
    "在「事件与回调」中选择「使用长连接接收事件」（推荐，无需公网 IP），添加事件：im.message.receive_v1、im.message.message_read_v1、im.chat.member.bot.added_v1、im.chat.member.bot.deleted_v1",
    "在「版本管理与发布」中创建版本并发布（每次改配置后都需重新发布）",
    "⚠️ 发布后才能在飞书中搜索到机器人"
  ],
  "feishuPermJson": "{\"scopes\":{\"tenant\":[\"im:message\",\"im:message:send_as_bot\",\"im:message:readonly\",\"im:message.p2p_msg:readonly\",\"im:message.group_at_msg:readonly\",\"im:chat.access_event.bot_p2p_chat:read\",\"im:chat.members:bot_access\",\"im:resource\",\"contact:user.base:readonly\",\"application:application:self_manage\",\"application:application.app_message_stats.overview:readonly\",\"application:bot.menu:write\",\"contact:user.employee_id:readonly\",\"event:ip_list\"]}}",
  "feishuPitfall": "⚠️ 常见踩坑：1) 必须在「事件与回调」添加 im.message.receive_v1 事件，否则机器人能发消息但收不到消息；2) 事件订阅方式必须与 connectionMode 匹配：长连接 → websocket（推荐），请求地址 → webhook；3) 每次修改权限/配置后必须重新「创建版本并发布」才能生效；4) 机器人没有自己的云空间根目录，需手动分享文件夹给机器人才能使用云空间工具；5) Windows 安装失败可手动下载 tgz：curl -O https://registry.npmjs.org/@m1heng-clawd/feishu/-/feishu-0.1.3.tgz && openclaw plugins install ./feishu-0.1.3.tgz",
  "feishuHelpUrl": "https://open.feishu.cn/app",
  "dingtalkPrep": [
    "安装钉钉插件：openclaw plugins install @openclaw-china/dingtalk（或安装全渠道包 @openclaw-china/channels）",
    "在钉钉右上角「创建或加入企业」→ 创建企业（无需任何材料，5 分钟完成）",
    "登录钉钉开放平台 open-dev.dingtalk.com → 切换到刚创建的企业 → 创建应用",
    "在「应用能力」中添加「机器人」能力，消息接收模式必须选择 Stream 模式（无需公网 IP）",
    "在「凭证与基础信息」页获取 Client ID (AppKey) 和 Client Secret (AppSecret)",
    "在「版本管理与发布」中创建版本并发布（发布后才能在钉钉中搜索到机器人）",
    "（可选）如需 AI Card 流式输出，在权限中开通 Card.Instance.Write 和 Card.Streaming.Write"
  ],
  "dingtalkPitfall": "⚠️ 常见踩坑：1) 消息接收模式必须选 Stream 模式，否则需要公网 IP；2) 创建应用后必须「发布版本」才能在钉钉中搜索到机器人；3) 钉钉 API 有频率限制，流式更新容易触发限流；4) 未开通 AI Card 权限也不影响正常对话，系统会回退到普通消息",
  "dingtalkHelpUrl": "https://open-dev.dingtalk.com",
  "wecomPrep": [
    "安装企微插件：openclaw plugins install @openclaw-china/wecom（或安装全渠道包 @openclaw-china/channels）",
    "访问 work.weixin.qq.com 注册并登录企业微信管理后台",
    "在「应用管理」→「智能机器人」中创建机器人",
    "填写回调地址：http://<你的IP或域名>:18789/wecom（确保 18789 端口可访问）",
    "记录平台生成的 Token 和 EncodingAESKey（点击「随机获取」）",
    "⚠️ 先完成下方 OpenClaw 配置并启动网关，再回到企微后台点击「创建」，否则回调校验会失败",
    "创建完毕后扫码添加机器人即可开始聊天"
  ],
  "wecomPitfall": "⚠️ 常见踩坑：1) 回调 URL 必须是公网可访问的地址，格式为 http://IP:18789/wecom；2) 必须先配置好 OpenClaw 并启动网关，再回企微后台点「创建」，否则验证失败；3) encodingAESKey 必须为 43 位字符；4) 确保服务器防火墙/安全组放行 18789 端口",
  "wecomHelpUrl": "https://work.weixin.qq.com",
  "wecom_kfPrep": [
    "安装企微自建应用插件：openclaw plugins install @openclaw-china/wecom-app（或安装全渠道包 @openclaw-china/channels）",
    "登录企业微信管理后台 work.weixin.qq.com",
    "在「应用管理」→「自建」中创建应用，获取 AgentId 和 Secret（即 corpSecret）",
    "在「我的企业」页获取企业 ID（corpId）",
    "在应用详情页「接收消息」→「设置 API 接收」，填写 URL（http://IP:18789/wecom-app）、Token、EncodingAESKey",
    "在「企业可信 IP」中添加服务器公网 IP",
    "⚠️ 先配置好 OpenClaw 并启动网关，再回企微后台点「保存」，否则验证会失败",
    "支持主动发送消息、图片/语音/文件收发、微信入口访问"
  ],
  "wecom_kfPitfall": "⚠️ 常见踩坑：1) 必须先配置好 OpenClaw 并启动网关，再回企微后台点「保存」，否则回调校验失败；2) 必须在「企业可信 IP」中添加服务器 IP，否则发送消息失败；3) Token 和 EncodingAESKey 需与企微后台一致；4) 支持在个人微信中通过工作台入口使用",
  "qqPrep": [
    "安装 QQ 插件：openclaw plugins install @openclaw-china/qqbot（或安装全渠道包 @openclaw-china/channels）",
    "访问 QQ 开放平台 q.qq.com → 注册开发者账号并完成审核",
    "创建「机器人」应用（注意不是小程序或游戏）",
    "在应用详情页获取 AppID 和 AppSecret",
    "开通权限并添加测试成员（可将机器人加入测试群）",
    "（可选）如需 Markdown 渲染，需单独申请 Markdown 模板权限（有一定审核时间）"
  ],
  "qqPitfall": "⚠️ 常见踩坑：1) 必须开通权限并添加测试成员，否则收不到消息；2) 群聊中需要 @机器人 才会响应；3) Markdown 需单独申请权限，未开通时可设置 markdownSupport: false；4) QQ Bot 目前仍在内测，部分功能可能受限",
  "qqHelpUrl": "https://q.qq.com",
  "wechatPrep": [
    "微信个人号接入需要第三方桥接工具（如 wechatbot-webhook）",
    "公众号接入需要在微信公众平台 mp.weixin.qq.com 注册服务号",
    "获取 AppID 和 AppSecret",
    "配置服务器 URL、Token 和 EncodingAESKey",
    "注意：个人号接入稳定性依赖第三方工具，建议优先考虑企业微信"
  ],
  "wechatPitfall": "⚠️ 注意：1) 微信个人号接入依赖第三方协议，存在封号风险，建议使用小号；2) 公众号需要认证的服务号才能使用完整 API；3) 建议优先使用企业微信，更稳定且官方支持",
  "wechatHelpUrl": "https://mp.weixin.qq.com",
  "doubaoPrep": [
    "访问豆包开放平台注册开发者账号",
    "创建应用并获取凭证",
    "配置回调地址"
  ],
  "doubaoPitfall": "⚠️ 豆包平台接入方式可能随版本更新变化，请参考最新官方文档",
  "imessageHelpUrl": "https://docs.bluebubbles.app",
  "imessagePrep": [
    "需要一台始终在线的 Mac 作为 iMessage 服务器",
    "安装 BlueBubbles Server 并登录 Apple ID",
    "如需完整功能（发送 Tapback 等）需要禁用 SIP（System Integrity Protection）",
    "配置 BlueBubbles 的 API 地址和密码"
  ],
  "imessagePitfall": "⚠️ 注意：1) iMessage 只能通过 macOS 运行，必须有一台 Mac；2) VM 中激活 iMessage 可能失败，建议先用 Catalina 再升级；3) 禁用 SIP 会降低系统安全性，请评估风险；4) iCloud 多设备同步可能导致消息重复",
  "bluebbubblesHelpUrl": "https://docs.bluebubbles.app",
  "bluebbubblesPrep": [
    "需要一台始终在线的 Mac 运行 BlueBubbles Server",
    "下载并安装 BlueBubbles Server（见下方链接）",
    "登录 Apple ID 并确保 iMessage 正常工作",
    "在 BlueBubbles 中配置连接方式和 API 密码",
    "如需 Private API 功能需要禁用 SIP"
  ],
  "bluebbubblesPitfall": "⚠️ 注意：BlueBubbles 需要 Mac 始终在线运行，断电或休眠会导致消息中断",
  "googlechatHelpUrl": "https://console.cloud.google.com",
  "googlechatPrep": [
    "需要 Google Workspace 账号（个人 Gmail 不支持 Chat API）",
    "在 Google Cloud Console 创建项目并启用 Chat API",
    "创建 Service Account 并授予 chat.bot scope",
    "在 Google Workspace 管理后台批准 Chat App 安装",
    "配置 Chat App 的回调地址或使用 Pub/Sub"
  ],
  "googlechatPitfall": "⚠️ 注意：1) 仅支持 Google Workspace 账号，个人 Gmail 无法使用；2) 需要 Workspace 管理员批准安装；3) Service Account 配置较复杂，建议参考官方文档",
  "msteamsHelpUrl": "https://portal.azure.com",
  "msteamsPrep": [
    "在 Azure Portal 创建 App Registration，获取 App ID",
    "创建 Client Secret 作为 App Password",
    "在 Bot Framework 中注册 Bot",
    "在 Teams 管理后台开启 Sideloading（测试用）",
    "需要先安装 MS Teams 插件：openclaw plugins install <msteams-plugin-url>"
  ],
  "msteamsPitfall": "⚠️ 注意：1) Azure 注册步骤较多，App ID 和 Client Secret 不要混淆；2) 测试时需要 Teams 管理员开启 Sideloading 权限；3) 需要安装 OpenClaw MS Teams 插件",
  "matrixHelpUrl": "https://matrix.org",
  "matrixPrep": [
    "注册或部署 Matrix Homeserver（如 matrix.org 或自建 Synapse）",
    "创建 Bot 账号并获取 Access Token（通过 /_matrix/client/r0/login API）",
    "Homeserver URL 必须包含协议（如 https://matrix.org）",
    "如需加入加密房间，可能需要额外 E2EE 配置"
  ],
  "matrixPitfall": "⚠️ 注意：1) Homeserver URL 必须包含 https:// 前缀；2) Access Token 通过 API 获取，不是密码；3) 端到端加密房间可能需要额外配置",
  "mattermostHelpUrl": "https://developers.mattermost.com",
  "mattermostPrep": [
    "在 Mattermost 管理后台创建 Bot Account",
    "复制 Bot Token",
    "确认 Bot 已被添加到目标频道/团队",
    "配置 Mattermost 服务器的 Base URL"
  ],
  "mattermostPitfall": "⚠️ 注意：1) Bot 需要被添加到目标频道才能收发消息；2) 确保 Base URL 包含协议和端口（如 https://mattermost.example.com:8065）",
  "zaloPrep": [
    "访问 Zalo 开发者平台注册账号",
    "创建应用并获取凭证",
    "配置 Webhook 回调地址",
    "需要先安装 Zalo 插件"
  ],
  "zaloPitfall": "⚠️ Zalo 平台主要面向越南市场，API 文档以越南语为主",
  "voicecallPrep": [
    "配置语音通话服务商（如 Twilio、Vonage）",
    "获取 API 凭证（Account SID、Auth Token）",
    "准备一个语音号码",
    "需要先安装语音通话插件"
  ],
  "voicecallPitfall": "⚠️ 语音通话需要第三方服务商支持，会产生通话费用",
  "pluginRequired": "⚡ 此频道需要先安装插件",
  "pluginInstallCmd": "安装命令",
  "installPlugin": "一键安装插件",
  "installing": "安装中...",
  "pluginInstallSuccess": "插件安装成功！网关正在重启...",
  "pluginInstalled": "✓ 插件已安装",
  "remoteGatewayHint": "检测到远程网关，请在远程服务器上手动执行以下命令安装插件：",
  "copyPermJson": "复制权限 JSON",
  "copied": "已复制",
  "openPlatform": "打开开放平台",
  "howToGet": "如何获取？",
  "restartReminder": "💡 配置完成后请重启网关：openclaw gateway restart",
  "restartCmd": "openclaw gateway restart",
  "restartingGateway": "正在重启网关，请稍候...",
  "pairingGuideTitle": "配对验证",
  "pairingGuideDesc": "配置已保存，网关已重启。如果你选择了「配对模式」，请按以下步骤完成配对：",
  "pairingStep1": "向 Bot 发送任意普通消息（不是命令）",
  "pairingStep2": "Bot 会回复配对码，格式如：Pairing code: ABCD1234",
  "pairingStep3": "在下方输入配对码并点击「批准」",
  "pairingCodeLabel": "配对码",
  "pairingCodePlaceholder": "输入 Bot 返回的配对码",
  "pairingApprove": "批准",
  "pairingApproving": "批准中...",
  "pairingApproved": "✓ 配对成功！",
  "pairingSuccess": "配对成功！",
  "pairingFailed": "配对失败",
  "skipPairing": "跳过",
  "pairingNoPending": "暂无待处理的配对请求",
  "pairingRefresh": "刷新",
  "noPrepNeeded": "此频道无需额外准备，可直接进入下一步",
  "prepDone": "准备完成"
}
